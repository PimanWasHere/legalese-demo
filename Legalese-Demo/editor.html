<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Block Editor</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"><link rel="manifest" href="manifest.json"><meta name="theme-color" content="#2563eb"><link href="css/styles.css" rel="stylesheet"><script src="js/app.js" defer></script>
</head><body class="bg-gray-100 text-gray-900"><nav class="bg-white shadow-md sticky top-0 z-50"><div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">  <div class="flex items-center space-x-3">   <a href="splash.html">    <img src="assets/logo.png" alt="Logo" class="w-10 h-10 rounded-full shadow"/>   </a>   <span class="text-2xl font-semibold text-blue-600">Legalese</span>  </div>  <div class="space-x-6 hidden md:flex" id="nav-links"></div>
<button id="hamburger" class="md:hidden text-gray-700" onclick="toggleSidebar()">â˜°</button> id="nav-links">   <a href="index.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">Home</a>   <a href="profile.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">Profile</a>   <a href="create.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">Create</a>   <a href="templates.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">Templates</a>   <a href="about.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">About</a>  </div></div></nav><div class="flex flex-row"><div class="md:w-64 w-full md:block hidden bg-white border-r min-h-screen p-4 space-y-4"><h2 class="text-lg font-bold mb-4">Navigation</h2><ul class="space-y-2 text-sm">  <li><a href="dashboard.html" class="text-gray-700 hover:text-blue-600">ğŸ“‹ Dashboard</a></li>  <li><a href="settings.html" class="text-gray-700 hover:text-blue-600">âš™ï¸ Settings</a></li>  <li><a href="editor.html" class="text-gray-700 hover:text-blue-600">ğŸ§± Block Editor</a></li>  <li><a href="marketplace.html" class="text-gray-700 hover:text-blue-600">ğŸ›’ Clause Marketplace</a></li>  <li><a href="library.html" class="text-gray-700 hover:text-blue-600">ğŸ“š Clause Library</a></li>  <li><a href="admin.html" class="text-gray-700 hover:text-blue-600">ğŸ§‘â€ğŸ’¼ Admin Panel</a></li></ul></div><!-- Sidebar removed --><div id="sidebar" class="fixed inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 z-40 transition-transform duration-300 ease-in-out bg-white w-64 border-r p-4 space-y-4" class="md:w-64 w-full md:block hidden bg-white border-r min-h-screen p-4 space-y-4 transition-all duration-300"><h2 class="text-lg font-bold mb-4 flex justify-between items-center">  Navigation  <button onclick="toggleSidebar()" class="text-sm text-gray-500 md:hidden">âœ–</button></h2><ul class="space-y-2 text-sm">  <li><a href="dashboard.html" class="sidebar-link">ğŸ“‹ Dashboard</a></li>  <li><a href="settings.html" class="sidebar-link">âš™ï¸ Settings</a></li>  <li><a href="editor.html" class="sidebar-link">ğŸ§± Block Editor</a></li>  <li><a href="marketplace.html" class="sidebar-link">ğŸ›’ Clause Marketplace</a></li>  <li><a href="library.html" class="sidebar-link">ğŸ“š Clause Library</a></li>  <li><a href="admin.html" class="sidebar-link">ğŸ§‘â€ğŸ’¼ Admin Panel</a></li></ul></div><div class="flex-1 p-6 space-y-6">  <h1 class='text-3xl font-bold mb-6'>Drag-and-Drop Contract Editor</h1><div class='grid grid-cols-1 md:grid-cols-3 gap-6'><!-- Clause Library --><div class='bg-white p-4 rounded shadow'>  <h2 class='text-lg font-semibold mb-4'>Clause Library</h2>  <div id='clause-palette' class='space-y-3'>   <div class='draggable bg-gray-100 p-3 rounded shadow cursor-move'>This Agreement is made between...</div>   <div class='draggable bg-gray-100 p-3 rounded shadow cursor-move'>Party A agrees to provide...</div>   <div class='draggable bg-gray-100 p-3 rounded shadow cursor-move'>Both parties shall keep information confidential.</div>   <div class='draggable bg-gray-100 p-3 rounded shadow cursor-move'>This agreement shall be governed by the laws of...</div>  </div></div><!-- Editor Canvas --><div class='md:col-span-2 bg-white p-4 rounded shadow'>  <h2 class='text-lg font-semibold mb-4'>Your Contract</h2>  <div id='editor-canvas' class='min-h-[300px] p-4 border rounded space-y-2 bg-gray-50'>   <p class='text-gray-400 text-sm'>Drag clauses here to build your contract.</p>  </div>  <div class='mt-4 flex gap-3'>   <button class='bg-blue-600 text-white px-4 py-2 rounded' onclick="saveBlockContract()">Save</button>   <button class='bg-gray-600 text-white px-4 py-2 rounded' onclick="clearEditor()">Clear</button>   <button class='bg-green-600 text-white px-4 py-2 rounded' onclick="exportContract()">Export</button>  </div></div>
<script>let dragged;document.addEventListener("DOMContentLoaded", function () { const draggables = document.querySelectorAll(".draggable"); const editor = document.getElementById("editor-canvas"); draggables.forEach(el => {  el.setAttribute("draggable", "true");  el.addEventListener("dragstart", e => {   dragged = e.target.cloneNode(true);  }); }); editor.addEventListener("dragover", e => {  e.preventDefault(); }); editor.addEventListener("drop", e => {  e.preventDefault();  if (dragged) {   editor.appendChild(dragged.cloneNode(true));  } });});function saveBlockContract() { const user = localStorage.getItem("currentUser"); if (!user) return alert("Please log in."); const blocks = Array.from(document.getElementById("editor-canvas").children)  .map(el => el.textContent.trim())  .filter(txt => txt && !txt.startsWith("Drag clauses")); const name = prompt("Name this contract:"); if (name && blocks.length) {  let list = JSON.parse(localStorage.getItem("contracts_" + user) || "[]");  if (!list.includes(name)) list.push(name);  localStorage.setItem("contracts_" + user, JSON.stringify(list));  localStorage.setItem("contract_blocks_" + user + "_" + name, JSON.stringify(blocks));  alert("Contract saved!"); }}function clearEditor() { const editor = document.getElementById("editor-canvas"); editor.innerHTML = '<p class="text-gray-400 text-sm">Drag clauses here to build your contract.</p>';}function exportContract() { const editor = document.getElementById("editor-canvas"); const content = Array.from(editor.children).map(el => el.textContent.trim()).join("\n\n"); const blob = new Blob([content], { type: "text/plain" }); const a = document.createElement("a"); a.href = URL.createObjectURL(blob); a.download = "contract.txt"; a.click();}</script>
</div><div class="md:w-64 w-full md:block hidden bg-white border-r min-h-screen p-4 space-y-4"><h2 class="text-lg font-bold mb-4">Navigation</h2><ul class="space-y-2 text-sm">  <li><a href="dashboard.html" class="text-gray-700 hover:text-blue-600">ğŸ“‹ Dashboard</a></li>  <li><a href="settings.html" class="text-gray-700 hover:text-blue-600">âš™ï¸ Settings</a></li>  <li><a href="editor.html" class="text-gray-700 hover:text-blue-600">ğŸ§± Block Editor</a></li>  <li><a href="marketplace.html" class="text-gray-700 hover:text-blue-600">ğŸ›’ Clause Marketplace</a></li>  <li><a href="library.html" class="text-gray-700 hover:text-blue-600">ğŸ“š Clause Library</a></li>  <li><a href="admin.html" class="text-gray-700 hover:text-blue-600">ğŸ§‘â€ğŸ’¼ Admin Panel</a></li></ul></div>
<script>  if ('serviceWorker' in navigator) {   navigator.serviceWorker.register('service-worker.js')    .then(() => console.log('Service Worker Registered'));  } </script>

<script>document.addEventListener("DOMContentLoaded", function () { const user = localStorage.getItem("currentUser"); const params = new URLSearchParams(window.location.search); const name = params.get("name"); if (user && name) {  const saved = JSON.parse(localStorage.getItem("contract_blocks_" + user + "_" + name) || "[]");  const canvas = document.getElementById("editor-canvas");  if (saved.length) {   canvas.innerHTML = "";   saved.forEach(text => {    const block = document.createElement("div");    block.className = "bg-gray-100 p-3 rounded shadow cursor-move";    block.textContent = text;    canvas.appendChild(block);   });  } }});</script>

<script>function toggleSidebar() { const sidebar = document.getElementById("sidebar"); sidebar.classList.toggle("hidden");}document.addEventListener("DOMContentLoaded", function () { const path = window.location.pathname.split("/").pop(); const links = document.querySelectorAll(".sidebar-link"); links.forEach(link => {  const href = link.getAttribute("href");  if (path === href) {   link.classList.add("text-blue-600", "font-bold");  } else {   link.classList.add("text-gray-700", "hover:text-blue-600");  } });});</script>
</body></html>