<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Admin Dashboard</title><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"><link rel="manifest" href="manifest.json"><meta name="theme-color" content="#2563eb"><link href="css/styles.css" rel="stylesheet"><script src="js/app.js" defer>function downloadAnalytics() { const rows = JSON.parse(localStorage.getItem("login_log") || "[]"); const csv = "data:text/csv;charset=utf-8," + rows.map(r => `"${r}"`).join("\n"); const link = document.createElement("a"); link.setAttribute("href", encodeURI(csv)); link.setAttribute("download", "login_analytics.csv"); document.body.appendChild(link); link.click(); document.body.removeChild(link);}</script>
</head><body class="bg-gray-100 text-gray-900"><nav class="bg-white shadow-md sticky top-0 z-50"><div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">  <div class="flex items-center space-x-3">   <a href="splash.html">    <img src="assets/logo.png" alt="Logo" class="w-10 h-10 rounded-full shadow"/>   </a>   <span class="text-2xl font-semibold text-blue-600">Legalese</span>  </div>  <div class="space-x-6 hidden md:flex" id="nav-links"></div>
<button id="hamburger" class="md:hidden text-gray-700" onclick="toggleSidebar()">â˜°</button> id="nav-links">   <a href="index.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">Home</a>   <a href="profile.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">Profile</a>   <a href="create.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">Create</a>   <a href="templates.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">Templates</a>   <a href="about.html" class="text-sm font-medium text-gray-700 hover:text-blue-600">About</a>  </div></div></nav><div class="flex flex-row"><div class="md:w-64 w-full md:block hidden bg-white border-r min-h-screen p-4 space-y-4"><h2 class="text-lg font-bold mb-4">Navigation</h2><ul class="space-y-2 text-sm">  <li><a href="dashboard.html" class="text-gray-700 hover:text-blue-600">ğŸ“‹ Dashboard</a></li>  <li><a href="settings.html" class="text-gray-700 hover:text-blue-600">âš™ï¸ Settings</a></li>  <li><a href="editor.html" class="text-gray-700 hover:text-blue-600">ğŸ§± Block Editor</a></li>  <li><a href="marketplace.html" class="text-gray-700 hover:text-blue-600">ğŸ›’ Clause Marketplace</a></li>  <li><a href="library.html" class="text-gray-700 hover:text-blue-600">ğŸ“š Clause Library</a></li>  <li><a href="admin.html" class="text-gray-700 hover:text-blue-600">ğŸ§‘â€ğŸ’¼ Admin Panel</a></li></ul></div><!-- Sidebar removed --><div id="sidebar" class="fixed inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 z-40 transition-transform duration-300 ease-in-out bg-white w-64 border-r p-4 space-y-4" class="md:w-64 w-full md:block hidden bg-white border-r min-h-screen p-4 space-y-4 transition-all duration-300"><h2 class="text-lg font-bold mb-4 flex justify-between items-center">  Navigation  <button onclick="toggleSidebar()" class="text-sm text-gray-500 md:hidden">âœ–</button></h2><ul class="space-y-2 text-sm">  <li><a href="dashboard.html" class="sidebar-link">ğŸ“‹ Dashboard</a></li>  <li><a href="settings.html" class="sidebar-link">âš™ï¸ Settings</a></li>  <li><a href="editor.html" class="sidebar-link">ğŸ§± Block Editor</a></li>  <li><a href="marketplace.html" class="sidebar-link">ğŸ›’ Clause Marketplace</a></li>  <li><a href="library.html" class="sidebar-link">ğŸ“š Clause Library</a></li>  <li><a href="admin.html" class="sidebar-link">ğŸ§‘â€ğŸ’¼ Admin Panel</a></li></ul></div><div class="flex-1 p-6 space-y-6">  <h1 class='text-3xl font-bold mb-6'>Admin Panel</h1><div class='bg-white p-6 rounded shadow space-y-4'><h2 class='text-xl font-semibold'>Registered Users</h2><ul id='admin-users' class='space-y-2 text-sm text-gray-700'></ul></div>
<script>document.addEventListener("DOMContentLoaded", function () { const user = localStorage.getItem("currentUser"); const role = localStorage.getItem("userRole_" + user); if (role !== "admin") {  alert("Admin access only.");  window.location.href = "index.html";  return; } const users = Object.keys(localStorage).filter(k => k.startsWith("user_")); const list = document.getElementById("admin-users"); list.innerHTML = users.map(k => {  const uname = k.replace("user_", "");  const role = localStorage.getItem("userRole_" + uname) || "user";  return `<li>${uname} â€” <strong>${role}</strong></li>`; }).join("");});function downloadAnalytics() { const rows = JSON.parse(localStorage.getItem("login_log") || "[]"); const csv = "data:text/csv;charset=utf-8," + rows.map(r => `"${r}"`).join("\n"); const link = document.createElement("a"); link.setAttribute("href", encodeURI(csv)); link.setAttribute("download", "login_analytics.csv"); document.body.appendChild(link); link.click(); document.body.removeChild(link);}</script>
</div><div class="md:w-64 w-full md:block hidden bg-white border-r min-h-screen p-4 space-y-4"><h2 class="text-lg font-bold mb-4">Navigation</h2><ul class="space-y-2 text-sm">  <li><a href="dashboard.html" class="text-gray-700 hover:text-blue-600">ğŸ“‹ Dashboard</a></li>  <li><a href="settings.html" class="text-gray-700 hover:text-blue-600">âš™ï¸ Settings</a></li>  <li><a href="editor.html" class="text-gray-700 hover:text-blue-600">ğŸ§± Block Editor</a></li>  <li><a href="marketplace.html" class="text-gray-700 hover:text-blue-600">ğŸ›’ Clause Marketplace</a></li>  <li><a href="library.html" class="text-gray-700 hover:text-blue-600">ğŸ“š Clause Library</a></li>  <li><a href="admin.html" class="text-gray-700 hover:text-blue-600">ğŸ§‘â€ğŸ’¼ Admin Panel</a></li></ul></div>
<script>  if ('serviceWorker' in navigator) {   navigator.serviceWorker.register('service-worker.js')    .then(() => console.log('Service Worker Registered'));  } function downloadAnalytics() { const rows = JSON.parse(localStorage.getItem("login_log") || "[]"); const csv = "data:text/csv;charset=utf-8," + rows.map(r => `"${r}"`).join("\n"); const link = document.createElement("a"); link.setAttribute("href", encodeURI(csv)); link.setAttribute("download", "login_analytics.csv"); document.body.appendChild(link); link.click(); document.body.removeChild(link);}</script>
<div class='bg-white p-6 rounded shadow space-y-4'><h2 class='text-xl font-semibold'>Pending Clauses</h2><ul id='pending-clauses' class='space-y-2 text-sm text-gray-700'></ul></div><div class='bg-white p-6 rounded shadow space-y-4'><h2 class='text-xl font-semibold'>Login Analytics</h2><button onclick='downloadAnalytics()' class='mb-2 bg-gray-700 text-white px-4 py-1 rounded text-sm'>Export CSV</button><ul id='login-analytics' class='space-y-1 text-sm text-gray-500'></ul></div>
<script>document.addEventListener("DOMContentLoaded", function () { const clauseList = document.getElementById("pending-clauses"); const clauses = JSON.parse(localStorage.getItem("pending_clauses") || "[]"); clauseList.innerHTML = clauses.length === 0 ? "<li>No pending clauses.</li>" :  clauses.map((clause, i) => \`   <li class='flex justify-between items-center bg-gray-50 p-2 rounded'>    <span>\${clause}</span>    <div class='space-x-2'>     <button onclick='approveClause(\${i})' class='text-green-600 underline'>Approve</button>     <button onclick='rejectClause(\${i})' class='text-red-600 underline'>Reject</button>    </div>   </li>\`).join(""); const analyticsList = document.getElementById("login-analytics"); const logins = JSON.parse(localStorage.getItem("login_log") || "[]"); analyticsList.innerHTML = logins.length === 0 ? "<li>No logins recorded.</li>" :  logins.map(log => \`<li>\${log}</li>\`).join("");});function approveClause(index) { const pending = JSON.parse(localStorage.getItem("pending_clauses") || "[]"); const approved = JSON.parse(localStorage.getItem("approved_clauses") || "[]"); approved.push(pending[index]); pending.splice(index, 1); localStorage.setItem("pending_clauses", JSON.stringify(pending)); localStorage.setItem("approved_clauses", JSON.stringify(approved)); location.reload();}function rejectClause(index) { const pending = JSON.parse(localStorage.getItem("pending_clauses") || "[]"); pending.splice(index, 1); localStorage.setItem("pending_clauses", JSON.stringify(pending)); location.reload();}function downloadAnalytics() { const rows = JSON.parse(localStorage.getItem("login_log") || "[]"); const csv = "data:text/csv;charset=utf-8," + rows.map(r => `"${r}"`).join("\n"); const link = document.createElement("a"); link.setAttribute("href", encodeURI(csv)); link.setAttribute("download", "login_analytics.csv"); document.body.appendChild(link); link.click(); document.body.removeChild(link);}</script>

<script>function toggleSidebar() { const sidebar = document.getElementById("sidebar"); sidebar.classList.toggle("hidden");}document.addEventListener("DOMContentLoaded", function () { const path = window.location.pathname.split("/").pop(); const links = document.querySelectorAll(".sidebar-link"); links.forEach(link => {  const href = link.getAttribute("href");  if (path === href) {   link.classList.add("text-blue-600", "font-bold");  } else {   link.classList.add("text-gray-700", "hover:text-blue-600");  } });});</script>
<div class='bg-white p-6 rounded shadow space-y-4 mt-6'><h2 class='text-xl font-semibold'>Career Applications</h2><ul id='application-list' class='space-y-3 text-sm text-gray-700'></ul></div>
<script>document.addEventListener("DOMContentLoaded", function () { const apps = JSON.parse(localStorage.getItem("career_applications") || "[]"); const container = document.getElementById("application-list"); container.innerHTML = apps.length === 0 ? "<li>No applications submitted yet.</li>" :  apps.map(a => \`   <li class='border p-3 rounded shadow'>    <strong>\${a.name}</strong> (<a href="mailto:\${a.email}" class="text-blue-600 underline">\${a.email}</a>)<br/>    <em>\${a.date}</em><br/>    <p class='my-2'>\${a.message}</p>    \${a.file ? `<a href="\${a.file}" download="CV_\${a.name.replace(/\s/g,'_')}.pdf" class="text-green-600 underline">Download CV</a>` : "<em>No file uploaded</em>"}   </li>  \`).join("");});</script>
</body></html>